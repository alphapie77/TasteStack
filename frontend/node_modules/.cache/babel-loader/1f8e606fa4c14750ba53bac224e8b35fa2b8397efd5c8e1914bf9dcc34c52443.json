{"ast":null,"code":"import apiRequest from './api';\nimport * as mockApi from './mockApi';\n\n// Flag to determine if we should use mock API\nconst USE_MOCK_API = false; // Set to false when backend is available\n\n// Get all recipes with optional pagination\nexport const getRecipes = async (page = 1, pageSize = 12) => {\n  if (USE_MOCK_API) {\n    return mockApi.getRecipes(page, pageSize);\n  }\n  return apiRequest(`/recipes/?page=${page}&page_size=${pageSize}`);\n};\n\n// Get a specific recipe by ID\nexport const getRecipe = async id => {\n  if (USE_MOCK_API) {\n    return mockApi.getRecipe(id);\n  }\n  return apiRequest(`/recipes/${id}/`);\n};\n\n// Create a new recipe\nexport const createRecipe = async recipeData => {\n  if (USE_MOCK_API) {\n    return mockApi.createRecipe(recipeData);\n  }\n\n  // Handle file upload by creating FormData\n  const formData = new FormData();\n\n  // Add all fields to formData\n  Object.keys(recipeData).forEach(key => {\n    if (key === 'image' && recipeData[key]) {\n      // Handle file upload\n      formData.append(key, recipeData[key]);\n    } else if (key === 'ingredients' || key === 'instructions') {\n      // Convert arrays to JSON strings\n      formData.append(key, JSON.stringify(recipeData[key]));\n    } else if (recipeData[key] !== null && recipeData[key] !== undefined) {\n      formData.append(key, recipeData[key]);\n    }\n  });\n  return apiRequest('/recipes/', {\n    method: 'POST',\n    body: formData,\n    headers: {\n      // Remove Content-Type to let browser set it with boundary for multipart/form-data\n    }\n  }, true); // Pass true to indicate this is a FormData request\n};\n\n// Update an existing recipe\nexport const updateRecipe = async (id, recipeData) => {\n  if (USE_MOCK_API) {\n    return mockApi.updateRecipe(id, recipeData);\n  }\n  return apiRequest(`/recipes/${id}/`, {\n    method: 'PUT',\n    body: JSON.stringify(recipeData)\n  });\n};\n\n// Delete a recipe\nexport const deleteRecipe = async id => {\n  if (USE_MOCK_API) {\n    return mockApi.deleteRecipe(id);\n  }\n  return apiRequest(`/recipes/${id}/`, {\n    method: 'DELETE'\n  });\n};\n\n// Search recipes by name or ingredients\nexport const searchRecipes = async (query, page = 1, pageSize = 12) => {\n  if (USE_MOCK_API) {\n    return mockApi.searchRecipes(query, page, pageSize);\n  }\n  return apiRequest(`/recipes/search/?q=${encodeURIComponent(query)}&page=${page}&page_size=${pageSize}`);\n};\n\n// Get recipes by author\nexport const getRecipesByAuthor = async (authorId, page = 1, pageSize = 12) => {\n  if (USE_MOCK_API) {\n    return mockApi.getRecipesByAuthor(authorId, page, pageSize);\n  }\n  return apiRequest(`/recipes/?author=${authorId}&page=${page}&page_size=${pageSize}`);\n};\n\n// Rate a recipe\nexport const rateRecipe = async (recipeId, rating) => {\n  if (USE_MOCK_API) {\n    return mockApi.rateRecipe(recipeId, rating);\n  }\n  return apiRequest(`/recipes/${recipeId}/rate/`, {\n    method: 'POST',\n    body: JSON.stringify({\n      rating\n    })\n  });\n};\n\n// Like a recipe\nexport const likeRecipe = async recipeId => {\n  if (USE_MOCK_API) {\n    return mockApi.likeRecipe(recipeId);\n  }\n  return apiRequest(`/interactions/recipes/${recipeId}/like/`, {\n    method: 'POST'\n  });\n};\n\n// Unlike a recipe\nexport const unlikeRecipe = async recipeId => {\n  if (USE_MOCK_API) {\n    return mockApi.unlikeRecipe(recipeId);\n  }\n  return apiRequest(`/interactions/recipes/${recipeId}/unlike/`, {\n    method: 'POST'\n  });\n};\n\n// Add a comment to a recipe\nexport const addComment = async (recipeId, comment) => {\n  if (USE_MOCK_API) {\n    return mockApi.addComment(recipeId, comment);\n  }\n  return apiRequest(`/interactions/recipes/${recipeId}/comments/add/`, {\n    method: 'POST',\n    body: JSON.stringify({\n      content: comment\n    })\n  });\n};\n\n// Get comments for a recipe\nexport const getComments = async recipeId => {\n  if (USE_MOCK_API) {\n    return mockApi.getComments(recipeId);\n  }\n  return apiRequest(`/interactions/recipes/${recipeId}/comments/`);\n};","map":{"version":3,"names":["apiRequest","mockApi","USE_MOCK_API","getRecipes","page","pageSize","getRecipe","id","createRecipe","recipeData","formData","FormData","Object","keys","forEach","key","append","JSON","stringify","undefined","method","body","headers","updateRecipe","deleteRecipe","searchRecipes","query","encodeURIComponent","getRecipesByAuthor","authorId","rateRecipe","recipeId","rating","likeRecipe","unlikeRecipe","addComment","comment","content","getComments"],"sources":["c:/Users/acer/Downloads/New folder/src/services/recipeService.js"],"sourcesContent":["import apiRequest from './api';\r\nimport * as mockApi from './mockApi';\r\n\r\n// Flag to determine if we should use mock API\r\nconst USE_MOCK_API = false; // Set to false when backend is available\r\n\r\n// Get all recipes with optional pagination\r\nexport const getRecipes = async (page = 1, pageSize = 12) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.getRecipes(page, pageSize);\r\n  }\r\n  \r\n  return apiRequest(`/recipes/?page=${page}&page_size=${pageSize}`);\r\n};\r\n\r\n// Get a specific recipe by ID\r\nexport const getRecipe = async (id) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.getRecipe(id);\r\n  }\r\n  \r\n  return apiRequest(`/recipes/${id}/`);\r\n};\r\n\r\n// Create a new recipe\r\nexport const createRecipe = async (recipeData) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.createRecipe(recipeData);\r\n  }\r\n  \r\n  // Handle file upload by creating FormData\r\n  const formData = new FormData();\r\n  \r\n  // Add all fields to formData\r\n  Object.keys(recipeData).forEach(key => {\r\n    if (key === 'image' && recipeData[key]) {\r\n      // Handle file upload\r\n      formData.append(key, recipeData[key]);\r\n    } else if (key === 'ingredients' || key === 'instructions') {\r\n      // Convert arrays to JSON strings\r\n      formData.append(key, JSON.stringify(recipeData[key]));\r\n    } else if (recipeData[key] !== null && recipeData[key] !== undefined) {\r\n      formData.append(key, recipeData[key]);\r\n    }\r\n  });\r\n  \r\n  return apiRequest('/recipes/', {\r\n    method: 'POST',\r\n    body: formData,\r\n    headers: {\r\n      // Remove Content-Type to let browser set it with boundary for multipart/form-data\r\n    }\r\n  }, true); // Pass true to indicate this is a FormData request\r\n};\r\n\r\n// Update an existing recipe\r\nexport const updateRecipe = async (id, recipeData) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.updateRecipe(id, recipeData);\r\n  }\r\n  \r\n  return apiRequest(`/recipes/${id}/`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(recipeData)\r\n  });\r\n};\r\n\r\n// Delete a recipe\r\nexport const deleteRecipe = async (id) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.deleteRecipe(id);\r\n  }\r\n  \r\n  return apiRequest(`/recipes/${id}/`, {\r\n    method: 'DELETE'\r\n  });\r\n};\r\n\r\n// Search recipes by name or ingredients\r\nexport const searchRecipes = async (query, page = 1, pageSize = 12) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.searchRecipes(query, page, pageSize);\r\n  }\r\n  \r\n  return apiRequest(`/recipes/search/?q=${encodeURIComponent(query)}&page=${page}&page_size=${pageSize}`);\r\n};\r\n\r\n// Get recipes by author\r\nexport const getRecipesByAuthor = async (authorId, page = 1, pageSize = 12) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.getRecipesByAuthor(authorId, page, pageSize);\r\n  }\r\n  \r\n  return apiRequest(`/recipes/?author=${authorId}&page=${page}&page_size=${pageSize}`);\r\n};\r\n\r\n// Rate a recipe\r\nexport const rateRecipe = async (recipeId, rating) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.rateRecipe(recipeId, rating);\r\n  }\r\n  \r\n  return apiRequest(`/recipes/${recipeId}/rate/`, {\r\n    method: 'POST',\r\n    body: JSON.stringify({ rating })\r\n  });\r\n};\r\n\r\n// Like a recipe\r\nexport const likeRecipe = async (recipeId) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.likeRecipe(recipeId);\r\n  }\r\n  \r\n  return apiRequest(`/interactions/recipes/${recipeId}/like/`, {\r\n    method: 'POST'\r\n  });\r\n};\r\n\r\n// Unlike a recipe\r\nexport const unlikeRecipe = async (recipeId) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.unlikeRecipe(recipeId);\r\n  }\r\n  \r\n  return apiRequest(`/interactions/recipes/${recipeId}/unlike/`, {\r\n    method: 'POST'\r\n  });\r\n};\r\n\r\n// Add a comment to a recipe\r\nexport const addComment = async (recipeId, comment) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.addComment(recipeId, comment);\r\n  }\r\n  \r\n  return apiRequest(`/interactions/recipes/${recipeId}/comments/add/`, {\r\n    method: 'POST',\r\n    body: JSON.stringify({ content: comment })\r\n  });\r\n};\r\n\r\n// Get comments for a recipe\r\nexport const getComments = async (recipeId) => {\r\n  if (USE_MOCK_API) {\r\n    return mockApi.getComments(recipeId);\r\n  }\r\n  \r\n  return apiRequest(`/interactions/recipes/${recipeId}/comments/`);\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}